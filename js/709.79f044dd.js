"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[709],{23709:function(n,t,e){e.r(t),e.d(t,{default:function(){return _}});var o=e(66252),i=e(49963),s=e(3577),c=function(n){return(0,o.dD)("data-v-16b3c297"),n=n(),(0,o.Cn)(),n},r={class:"contain"},a={class:"checkIfLoaded"},u={key:0,class:"body"},d={class:"commentor"},m={class:"comment"},l={key:0,class:"commentAdd"},f=c((function(){return(0,o._)("label",{for:"commentAdd"},"Comment!",-1)})),g={class:"addCommentBody"},p=(0,o.Uk)("submit"),h=(0,o.Uk)("Log in to Comment");function w(n,t,e,c,w,v){var L=(0,o.up)("base-spinner"),k=(0,o.up)("base-post"),b=(0,o.up)("base-button"),C=(0,o.up)("base-login");return(0,o.wg)(),(0,o.iD)("section",r,[(0,o.wy)((0,o.Wm)(L,null,null,512),[[i.F8,w.isLoading||!w.doneLoading]]),(0,o.wy)((0,o._)("div",a,[(0,o.Wm)(k,{onDoneLoading:v.postLoaded},null,8,["onDoneLoading"]),w.isLoading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(i.W3,{tag:"ui",name:"comment"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(v.comments,(function(n){return(0,o.wg)(),(0,o.iD)("div",{key:n},[(0,o.wy)((0,o._)("div",d,[(0,o._)("h3",null,(0,s.zw)(n.body.username),1),(0,o.wy)((0,o._)("div",m,[(0,o._)("p",null,(0,s.zw)(n.body.comment),1)],512),[[i.F8,null!==n.commentText]])],512),[[i.F8,null!==n.commentorName]])])})),128))]})),_:1}),v.isLogged?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("form",{class:"addComment",onSubmit:t[1]||(t[1]=(0,i.iM)((function(){return v.saveComment&&v.saveComment.apply(v,arguments)}),["prevent"]))},[f,(0,o._)("div",g,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(n){return w.commentToBe=n}),class:"commentBox",name:"commentAdd",id:"commentAdd",cols:"",rows:"4",placeholder:"Your comment..."},null,512),[[i.nr,w.commentToBe]]),(0,o.Wm)(b,{class:"log-Button"},{default:(0,o.w5)((function(){return[p]})),_:1})])],32)])):((0,o.wg)(),(0,o.j4)(b,{key:1,class:"commentLogin",onClick:v.startLogin},{default:(0,o.w5)((function(){return[h]})),_:1},8,["onClick"])),(0,o.Wm)(C,{show:w.clickedLogin,onClose:v.startLogin},null,8,["show","onClose"])]))],512),[[i.F8,!w.isLoading]])])}var v=e(15861),L=e(87757),k=e.n(L),b=(e(94058),{props:["postId"],data:function(){return{clickedLogin:!1,isLoading:!0,commentToBe:"",doneLoading:!1}},activated:function(){var n=this;return(0,v.Z)(k().mark((function t(){return k().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.$store.dispatch("setPost",n.postId);case 2:case"end":return t.stop()}}),t,this)})))()},deactivated:function(){var n=this;return(0,v.Z)(k().mark((function t(){return k().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.isLoading=!0,n.doneLoading=!1;case 2:case"end":return t.stop()}}),t,this)})))()},methods:{postLoaded:function(){this.doneLoading=!0},startLogin:function(){this.clickedLogin=!this.clickedLogin},saveComment:function(){var n=this;return(0,v.Z)(k().mark((function t(){return k().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===n.commentToBe){t.next=4;break}return t.next=3,n.$store.dispatch("saveComment",n.commentToBe);case 3:n.commentToBe="";case 4:case"end":return t.stop()}}),t,this)})))()}},computed:{comments:function(){return this.$store.getters["getComments"]},isLogged:function(){return this.$store.getters["getAuth"]}},watch:{doneLoading:function(){var n=(0,v.Z)(k().mark((function n(){var t=this;return k().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!this.doneLoading){n.next=3;break}return n.next=3,this.$store.dispatch("getComments",this.postId).then((function(){t.isLoading=!1}));case 3:case"end":return n.stop()}}),n,this)})));function t(){return n.apply(this,arguments)}return t}()}}),C=e(83744);const y=(0,C.Z)(b,[["render",w],["__scopeId","data-v-16b3c297"]]);var _=y}}]);
//# sourceMappingURL=709.79f044dd.js.map